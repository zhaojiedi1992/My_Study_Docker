<!DOCTYPE html>

<html xmlns="http://www.w3.org/1999/xhtml" xmlns:epub="http://www.idpf.org/2007/ops">
  <head>
    <meta charset="utf-8" />
    <title>2. 获取docker的ce版本</title>
    <link rel="stylesheet" href="../_static/epub.css" type="text/css" />
    <link rel="stylesheet" href="../_static/pygments.css" type="text/css" />
    <link rel="stylesheet" href="../_static/copybutton.css" type="text/css" />
    <link rel="stylesheet" href="https://use.fontawesome.com/releases/v5.2.0/css/all.css" type="text/css" />
    <link rel="stylesheet" href="https://stackpath.bootstrapcdn.com/bootstrap/4.1.3/css/bootstrap.min.css" type="text/css" /> 
  </head><body>

    <div class="document">
      <div class="documentwrapper">
          <div class="body" role="main">
            
  <div class="section" id="dockerce">
<h1>2. 获取docker的ce版本</h1>
<div class="section" id="os">
<h2>2.1. OS需求</h2>
<ul class="simple">
<li><p>确保你启用的标准centos-extra仓库。</p></li>
<li><p>overlay2存储驱动推荐使用</p></li>
</ul>
</div>
<div class="section" id="docker">
<h2>2.2. 卸载老版本的docker</h2>
<div class="highlight-bash notranslate"><div class="highlight"><pre><span></span>$ sudo yum remove docker <span class="se">\</span>
                docker-client <span class="se">\</span>
                docker-client-latest <span class="se">\</span>
                docker-common <span class="se">\</span>
                docker-latest <span class="se">\</span>
                docker-latest-logrotate <span class="se">\</span>
                docker-logrotate <span class="se">\</span>
                docker-selinux <span class="se">\</span>
                docker-engine-selinux <span class="se">\</span>
                docker-engine
</pre></div>
</div>
<div class="admonition note">
<p class="admonition-title">注解</p>
<p>docker 社区版本的包名字为docker-ce,使用yum remove docker-ce完成卸载。</p>
</div>
</div>
<div class="section" id="id1">
<h2>2.3. 设置按照需要的仓库</h2>
<div class="highlight-bash notranslate"><div class="highlight"><pre><span></span>$ sudo yum install -y yum-utils <span class="se">\</span>
device-mapper-persistent-data <span class="se">\</span>
lvm2
$ sudo yum-config-manager <span class="se">\</span>
    --add-repo <span class="se">\</span>
    https://download.docker.com/linux/centos/docker-ce.repo

$ sudo yum-config-manager --enable docker-ce-edge
$ sudo yum-config-manager --enable docker-ce-test
</pre></div>
</div>
</div>
<div class="section" id="id2">
<h2>2.4. 安装docker</h2>
<div class="highlight-bash notranslate"><div class="highlight"><pre><span></span><span class="c1"># 按照默认版本</span>
$ sudo yum install docker-ce

<span class="c1"># 按照指定版本</span>
$ yum list docker-ce --showduplicates <span class="p">|</span> sort -r
$ sudo yum install docker-ce-&lt;VERSION STRING&gt;

<span class="c1"># 启动docker服务</span>
$ sudo systemctl start docker
</pre></div>
</div>
</div>
<div class="section" id="id3">
<h2>2.5. 测试docker</h2>
<div class="highlight-bash notranslate"><div class="highlight"><pre><span></span><span class="c1"># 运行一个hello world</span>
$ sudo docker run hello-world
</pre></div>
</div>
</div>
</div>


          </div>
      </div>
      <div class="clearer"></div>
    </div>
  </body>
</html>